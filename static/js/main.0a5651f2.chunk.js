(this.webpackJsonpauto1=this.webpackJsonpauto1||[]).push([[0],{101:function(e,a,t){},103:function(e,a,t){},104:function(e,a,t){},105:function(e,a,t){},106:function(e,a,t){},107:function(e,a,t){},108:function(e,a,t){},109:function(e,a,t){},110:function(e,a,t){"use strict";t.r(a);var n,r=t(0),c=t.n(r),l=t(14),o=t.n(l),u=(t(75),t(5)),i=t(22),s=t(8),m=t(15),f=t.n(m),d=t(26),g=t(24),p=t(58),E=t.n(p),b=function(){return E.a.create({baseURL:"https://auto1-mock-server.herokuapp.com/api/",timeout:3e4})},h=Object(g.b)("cars/fetchColors",Object(d.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b().get("/colors");case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))),v=Object(g.b)("cars/fetchManufacturers",Object(d.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b().get("/manufacturers");case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))),j=Object(g.b)("cars/fetchCars",function(){var e=Object(d.a)(f.a.mark((function e(a){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b().get("/cars",{params:a});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),O=Object(g.b)("cars/fetchCarDetail",function(){var e=Object(d.a)(f.a.mark((function e(a){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b().get("/cars/".concat(a));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),w=t(16),y=Object(g.c)({name:"cars",initialState:{colors:{data:[],isLoaded:!1},manufacturers:{data:[],isLoaded:!1},cars:{data:[],totalPageCount:100,totalCarsCount:1e3,loading:!1,isLoaded:!1},carDetail:{},currentPage:1,manufacturer:null,color:null,error:null},reducers:{incrementPage:function(e){e.currentPage++},decrementPage:function(e){e.currentPage--},changePage:function(e,a){e.currentPage=a.payload},changeColor:function(e,a){e.color=a.payload},changeManufacturer:function(e,a){e.manufacturer=a.payload},clearCarDetail:function(e,a){e.carDetail={}}},extraReducers:(n={},Object(w.a)(n,h.fulfilled,(function(e,a){e.colors.data=a.payload.colors,e.colors.isLoaded=!0})),Object(w.a)(n,h.rejected,(function(e){e.error="Something went wrong! Please refresh the page.",e.colors.isLoaded=!0})),Object(w.a)(n,v.fulfilled,(function(e,a){e.manufacturers.data=a.payload.manufacturers,e.manufacturers.isLoaded=!0})),Object(w.a)(n,v.rejected,(function(e){e.error="Something went wrong! Please refresh the page.",e.manufacturers.isLoaded=!1})),Object(w.a)(n,j.pending,(function(e){e.cars.loading=!0})),Object(w.a)(n,j.fulfilled,(function(e,a){e.cars.data=a.payload.cars,e.cars.totalCarsCount=a.payload.totalCarsCount,e.cars.totalPageCount=a.payload.totalPageCount,e.cars.loading=!1,e.cars.isLoaded=!0})),Object(w.a)(n,j.rejected,(function(e){e.cars.data=[],e.cars.loading=!1,e.cars.isLoaded=!1,e.error="Something went wrong! Please refresh the page."})),Object(w.a)(n,O.fulfilled,(function(e,a){e.carDetail=a.payload.car})),Object(w.a)(n,O.rejected,(function(e){e.carDetail.data={},e.error="Something went wrong! Please refresh the page."})),n)}),N=y.actions,C=N.incrementPage,x=N.decrementPage,k=N.changePage,P=N.changeColor,S=N.changeManufacturer,L=N.clearCarDetail,T=function(e){return e.cars.error},D=function(e){return e.cars.colors},M=function(e){return e.cars.manufacturers},A=function(e){return e.cars.cars},B=function(e){return e.cars.currentPage},I=function(e){return e.cars.manufacturer},U=function(e){return e.cars.carDetail},F=function(e){return e.cars.color},G=y.reducer,R=t(40),z=t(64),J=t(126),K=t(125),V=(t(98),function(e){return"string"!==typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)}),W=function(){var e=Object(u.b)(),a=Object(u.c)(D),t=Object(u.c)(M);return c.a.createElement("div",{className:"form-container"},c.a.createElement(z.a,{initialValues:{color:void 0,manufacturer:void 0},onSubmit:function(){var a=Object(d.a)(f.a.mark((function a(t){return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e(P(t.color)),e(S(t.manufacturer)),e(j(Object(R.a)(Object(R.a)({},t),{},{page:1})));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},(function(e){var n=e.handleSubmit,r=e.handleChange;return c.a.createElement(J.a,{onSubmit:n},c.a.createElement(J.a.Group,{controlId:"color",onChange:r},c.a.createElement(J.a.Label,null,"Color"),c.a.createElement(J.a.Control,{as:"select"},c.a.createElement("option",{value:""},"All Car Colors"),a.data.map((function(e){return c.a.createElement("option",{key:e,value:e},V(e))})))),c.a.createElement(J.a.Group,{controlId:"manufacturer",onChange:r},c.a.createElement(J.a.Label,null,"Manufacturer"),c.a.createElement(J.a.Control,{as:"select"},c.a.createElement("option",{value:""},"All Manufacturers"),t.data.map((function(e){return c.a.createElement("option",{key:e.name,value:e.name},e.name)})))),c.a.createElement("div",{className:"d-flex justify-content-end"},c.a.createElement(K.a,{type:"submit",className:"form-button",size:"small"},"Filter")))})))},Y=t(124),$=t(128),q=function(e){var a=e.car,t=a.stockNumber,n=a.pictureUrl,r=a.modelName,l=a.fuelType,o=a.mileage.number,u=a.color;return c.a.createElement(Y.a,null,c.a.createElement($.a,{className:"d-flex align-items-center"},c.a.createElement("div",null,c.a.createElement("img",{src:n,className:"card-image",alt:"Car Logo"})),c.a.createElement($.a.Body,null,c.a.createElement($.a.Title,null,c.a.createElement("h1",null,r)),c.a.createElement($.a.Text,null,"Stock - # ",t," - ",o," KM - ",l," - ",u),c.a.createElement($.a.Text,null,c.a.createElement(i.b,{to:"details/".concat(t),className:"details"},"View Details")))))},H=(t(101),t(3)),Q=t.n(H),X=function(){var e=Object(u.c)(A),a=Object(u.c)(B),t=Object(u.c)(I),n=Object(u.c)(F),r=e.totalPageCount,l=Object(u.b)(),o=1===a,i=a===r;return c.a.createElement("div",{className:"d-flex justify-content-center mt-3 mb-3"},c.a.createElement("span",{className:Q()({"pag-button":!o,"page-count":o}),onClick:function(){!o&&l(k(1)),!o&&l(j({manufacturer:t,page:1,color:n}))}},"First"),c.a.createElement("span",{className:Q()({"pag-button":!o,"page-count":o}),onClick:function(){!o&&l(x()),!o&&l(j({manufacturer:t,page:a-1,color:n}))}},"Previous"),c.a.createElement("span",{className:"page-count"},"Page ",a," of ",r),c.a.createElement("span",{className:Q()({"pag-button":!i,"page-count":i}),onClick:function(){!i&&l(C()),!i&&l(j({manufacturer:t,page:a+1,color:n}))}},"Next"),c.a.createElement("span",{className:Q()({"pag-button":!i,"page-count":i}),onClick:function(){!i&&l(k(r)),!i&&l(j({manufacturer:t,page:r,color:n}))}},"Last"))},Z=t(25),_=t.n(Z),ee=function(){return new Array(10).fill(0).map((function(e,a){return c.a.createElement(Y.a,{key:a},c.a.createElement($.a,{style:{paddingBottom:"16px",paddingTop:"16px"}},c.a.createElement(_.a,{width:104,height:90}),c.a.createElement($.a.Body,{className:"d-flex flex-column ml-3"},c.a.createElement(_.a,{width:95,height:28}),c.a.createElement(_.a,{width:170,height:28}),c.a.createElement(_.a,{width:100,height:28}))))}))},ae=function(){var e=Object(u.c)(A);return c.a.createElement("div",{className:"list-container"},c.a.createElement("h1",null,"Available Cars"),c.a.createElement("p",null,"Showing ",e.data.length||10," of ",e.totalCarsCount," Results"),c.a.createElement("div",null,e.data.length>0?e.data.map((function(e){return c.a.createElement(q,{key:e.mileage.number,car:e})})):c.a.createElement(ee,null)),c.a.createElement(X,null))},te=(t(103),function(){var e=Object(u.b)(),a=Object(u.c)(D),t=Object(u.c)(M),n=Object(u.c)(A);return Object(r.useEffect)((function(){!a.isLoaded&&e(h()),!t.isLoaded&&e(v()),!n.isLoaded&&e(j({page:1}))}),[]),c.a.createElement("div",{className:"home-content"},c.a.createElement(W,null),c.a.createElement(ae,null))}),ne=t(35),re=(t(104),function(){var e;Object(r.useEffect)((function(){return l(O(a)),function(){l(L())}}),[]);var a=Object(s.f)().id,t=localStorage.getItem(a),n=Object(u.c)(U),l=Object(u.b)(),o=Object(r.useState)(t),i=Object(ne.a)(o,2),m=i[0],f=i[1];return c.a.createElement("div",{className:"details-page-content"},c.a.createElement("div",{className:"w-100 text-center"},n.pictureUrl?c.a.createElement("img",{src:n.pictureUrl,alt:"Car Logo"}):c.a.createElement(_.a,{width:300,height:260,className:"m-0"})),c.a.createElement("div",{className:"content-container"},c.a.createElement(Y.a,null,c.a.createElement($.a,{className:"d-flex align-items-center"},c.a.createElement($.a.Body,null,c.a.createElement($.a.Title,null,c.a.createElement("h1",null,n.modelName||c.a.createElement(_.a,{className:"m-0",width:100}))),c.a.createElement($.a.Text,null,"Stock #"," ",n.stockNumber?"".concat(n.stockNumber," - ").concat(null===n||void 0===n||null===(e=n.mileage)||void 0===e?void 0:e.number," KM - ").concat(n.fuelType," - ").concat(V(n.color)):c.a.createElement(_.a,{className:"m-0",width:150})),c.a.createElement($.a.Text,{className:"detail-text"},"This car is currently available and can be delivered as soon as tomorrow morning. Please be aware that delivery times shown in this page are not definitive and may change due to bad weather conditions.")))),c.a.createElement(Y.a,null,c.a.createElement($.a,{className:"d-flex align-items-center"},c.a.createElement($.a.Body,null,c.a.createElement($.a.Text,null,"If you like this car, click the button and save it in your collection of favourite items."),c.a.createElement("div",{className:"d-flex justify-content-end"},c.a.createElement(K.a,{type:"submit",className:"form-button mt-2",size:"small",onClick:function(){m?(f(!1),localStorage.removeItem(a)):(f(!0),localStorage.setItem(a,!0))}},t?"UnSave":"Save")))))))}),ce=(t(105),t(34)),le=t.n(ce),oe=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"page-content"},c.a.createElement("img",{src:le.a,alt:"Auto1 Logo",className:"nav-logo","data-testid":"logo-image"}),c.a.createElement("h1",null,"404 - Not Found"),c.a.createElement("p",null,"Sorry, the page you are looking for does not exist."),c.a.createElement("p",null,"You can always go back to the ",c.a.createElement(i.b,{to:"/","data-testid":"homepage-nav"},"homepage"),".")))},ue=(t(106),t(107),function(){return c.a.createElement("nav",{className:"d-flex align-items-center justify-content-between nav"},c.a.createElement(i.b,{to:"/"},c.a.createElement("img",{src:le.a,"data-testid":"logo-image",alt:"Auto1 Logo",className:"nav-logo"})),c.a.createElement("ul",{className:"nav-links"},c.a.createElement("li",null,"Purchase"),c.a.createElement("li",null,"My Orders"),c.a.createElement("li",null,"Sell")))}),ie=(t(108),function(e){return c.a.createElement("footer",null,c.a.createElement("span",null,"\xa9 AUTO1 Group 2018"))}),se=t(127),me=(t(109),function(e){var a=e.variant,t=e.error,n=Object(r.useState)(!0),l=Object(ne.a)(n,2),o=l[0],u=l[1];return setTimeout((function(){u(!1)}),3e3),o?c.a.createElement(se.a,{transition:!0,variant:a,onClose:function(){return u(!1)},className:"alert"},c.a.createElement("p",null,t)):null}),fe=function(){var e=Object(u.c)(T);return c.a.createElement(i.a,null,c.a.createElement("div",{className:"app"},c.a.createElement(ue,null),e&&c.a.createElement("div",{className:"d-flex justify-content-center"},c.a.createElement(me,{variant:"danger",error:e})),c.a.createElement(s.c,null,c.a.createElement(s.a,{path:"/details/:id"},c.a.createElement(re,null)),c.a.createElement(s.a,{exact:!0,path:"/"},c.a.createElement(te,null)),c.a.createElement(s.a,{path:"*"},c.a.createElement(oe,null))),c.a.createElement(ie,null)))},de=Object(g.a)({reducer:{cars:G}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(u.a,{store:de},c.a.createElement(fe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},34:function(e,a,t){e.exports=t.p+"static/media/logo.fb20abff.png"},70:function(e,a,t){e.exports=t(110)},75:function(e,a,t){},98:function(e,a,t){}},[[70,1,2]]]);
//# sourceMappingURL=main.0a5651f2.chunk.js.map